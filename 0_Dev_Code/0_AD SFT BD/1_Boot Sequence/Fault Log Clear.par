        
#@ 240914 



#? 부팅 시 Ext Flash에 저장된 Fault Log Clear 

###################################################################################################################
###################################################################################################################
###################################################################################################################
## Fault Log Clear 
    #! Indigo4 Power On 시에, Ext. Flash에 저장된 Fault Log 영역 모두 Clear (모든 bit "0")
    #@ Boot Sequence에 존재 해야 함. Booting 이후 최대한 빨리 수행해야함. 
    #? Flash는 Erase만 하면 모든 비트가 1. 따라서 0으로 Write 해야 함. -> 아니면 명세서를 바꿔야 하는데.. 그냥 0으로 write하자. 
    #? SRAM은 Power on되면, 쓰레기 값으로 되어 있으므로, 
    #? 사용 안 하는 영역을 모든 비트 0으로 한 다음에 SRAM에서 Ext Flash로 아래 코드 수정해서 복사.     
# 

fncBegin    #name:
i4fill 0x60000000	0x00000000	10	# Address, value, Count - SRAM 사용 안 하는 영역, Fault Log용으로 잡아야 함. 

w32	0x60140010	0x00000000		# Write C # 상태 확인 Register Clear #
w32	0x60140004	0x60100000		# DST Address : Ext. Flash의 Fault Log 영역 주소 
w32	0x60140008	0x00027000		# Data Size : SRAM 영역 사이즈 
w32	0x6014000C	0x00400000		# SRC Address : SRAM의 0b으로 채운 영역 주소 

w32	0x0002C300	0x60140300		# CMDSEQ1 - 위 설정에 대해 SRAM.CODE Write 영역 실행
fncEnd      #name: 
